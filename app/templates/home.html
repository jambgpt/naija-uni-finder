<!-- app/templates/home.html -->
{% extends "base.html" %}

{% block title %}Home - Naija! Find Uni{% endblock %}

{% block extra_head %}
<!-- Include additional CSS files -->
<link rel="stylesheet" href="{{ url_for('static', filename='css/home.css') }}">
{% endblock %}

{% block content %}
<section class="hero-section" id="heroSection">
  <div class="container">
    <div class="hero-content text-center text-white mb-5">
      <h1 class="display-3 mb-4 fw-bold">Find Your Perfect Institution</h1>
      <p class="lead mb-5">
        Discover top Nigerian universities and courses tailored to your future.
      </p>
    </div>

    <div id="wizard-container" class="mx-auto" style="max-width: 800px">
      <!-- Step 1: Location and Institution Type Selection -->
      <div class="wizard-step active" id="step1">
        <h3 class="text-center mb-4">Choose Your Preferred Location</h3>
        <div class="form-group mb-4">
          <select
            id="location"
            class="form-select form-select-lg"
            aria-label="Select a State"
          >
            <option value="">Select a State</option>
          </select>
        </div>

        <h4 class="text-center mb-3">Select Institution Type</h4>
        <div class="selected-types" role="region" aria-live="polite"></div>
        <div
          class="institution-type-grid"
          id="institutionTypes"
          role="group"
          aria-label="Institution types"
        >
          <!-- Institution type cards will be inserted here via JavaScript -->
        </div>

        <button
          id="nextStep"
          class="btn btn-primary btn-lg w-100 mt-4"
          disabled
          aria-label="Continue to next step"
        >
          Continue <i class="fas fa-arrow-right ms-2" aria-hidden="true"></i>
        </button>
      </div>

      <!-- Step 2: Course Selection -->
      <div class="wizard-step" id="step2" aria-hidden="true">
        <h3 class="text-center mb-4">Choose Your Course</h3>

        <div
          id="loadingSpinner"
          class="text-center"
          role="status"
          aria-live="polite"
        >
          <div class="d-flex flex-column align-items-center">
            <div class="spinner-border text-primary mb-2" role="status">
              <span class="visually-hidden">Loading courses...</span>
            </div>
            <p>Loading available courses...</p>
          </div>
        </div>

        <div class="course-search-container">
          <div class="course-search">
            <i class="fas fa-search search-icon" aria-hidden="true"></i>
            <input
              type="text"
              id="courseSearch"
              class="form-control form-control-lg"
              placeholder="Search courses..."
              autocomplete="off"
              aria-label="Search courses"
              style="display: none"
            />
          </div>
          <div
            id="courseSuggestions"
            class="course-suggestions"
            role="listbox"
            aria-label="Course suggestions"
          ></div>
        </div>

        <div class="form-group mb-4">
          <select
            id="course"
            class="form-select form-select-lg"
            aria-label="Select a Course"
            style="display: none"
          >
            <option value="">Select a Course</option>
          </select>
        </div>

        <div class="d-grid gap-3">
          <button
            id="findInstitution"
            class="btn btn-primary btn-lg"
            style="display: none"
            aria-label="Find institutions offering this course"
          >
            Find Institution
            <i class="fas fa-search ms-2" aria-hidden="true"></i>
          </button>
          <button
            id="prevStep"
            class="btn btn-secondary btn-lg"
            aria-label="Go back to previous step"
          >
            <i class="fas fa-arrow-left me-2" aria-hidden="true"></i> Back
          </button>
        </div>
      </div>
    </div>

    <div class="scroll-prompt" aria-hidden="true" role="presentation">
      <i class="fas fa-chevron-down fa-2x"></i>
    </div>
  </div>
</section>

<section class="features-section py-5 bg-light">
  <div class="container">
    <h2 class="text-center mb-5">Why Choose Us?</h2>
    <div class="row g-4">
      <div class="col-md-4">
        <div class="feature-card text-center" role="article">
          <i
            class="fas fa-database fa-3x mb-4 text-primary"
            aria-hidden="true"
          ></i>
          <h3 class="h4 mb-3">Comprehensive Database</h3>
          <p class="text-muted mb-0">
            Access detailed information about all accredited Nigerian
            institutions and courses.
          </p>
        </div>
      </div>
      <div class="col-md-4">
        <div class="feature-card text-center" role="article">
          <i
            class="fas fa-bullseye fa-3x mb-4 text-primary"
            aria-hidden="true"
          ></i>
          <h3 class="h4 mb-3">Smart Recommendations</h3>
          <p class="text-muted mb-0">
            Get personalized institution suggestions based on your preferences
            and requirements.
          </p>
        </div>
      </div>
      <div class="col-md-4">
        <div class="feature-card text-center" role="article">
          <i
            class="fas fa-chart-line fa-3x mb-4 text-primary"
            aria-hidden="true"
          ></i>
          <h3 class="h4 mb-3">Detailed Analysis</h3>
          <p class="text-muted mb-0">
            Compare institutions and make informed decisions with our
            comprehensive insights.
          </p>
        </div>
      </div>
    </div>
  </div>
</section>
{% endblock %}

{% block extra_scripts %}
<!-- Include additional JavaScript files -->
<script src="{{ url_for('static', filename='js/home.js') }}"></script>
{% endblock %}
